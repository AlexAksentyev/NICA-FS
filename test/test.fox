INCLUDE 'bin/support/support';

PROCEDURE RUN;
  VARIABLE RESTMASSAMU 1; VARIABLE GAMMA 1; VARIABLE EKIN 1;
  VARIABLE WHERE 100;
  VARIABLE QF  1; VARIABLE QD  1;
  VARIABLE HZ1 1; VARIABLE HZ2 1;
  VARIABLE KZ1 1; VARIABLE KZ2 1;
  VARIABLE MAPPARAMS 1 6; {HOLDS THE ABOVE VALUES}
  VARIABLE MAPARR 1000 6 471; VARIABLE SPNRARR 1000 3 3 471;

  VARIABLE PCL 2 3; VARIABLE PID 1;

  VARIABLE L_Q 1; VARIABLE GF 1; VARIABLE GD 1;
  VARIABLE L_O 1; VARIABLE L_D 1; VARIABLE PHI 1;
  VARIABLE OBJ 1;
  VARIABLE GSY 1; VARIABLE GSX 1; VARIABLE BBE 1; VARIABLE EPLATE 1; VARIABLE LPLATE 1;
  VARIABLE TILTS 32;

  DIRSET WHERE 'data/TEST/' TRUE;
  GROUTF 'img/dump/TR' 1;

  OV 1 3 0;
  SET_FOR_PROTONS HZ1 HZ2 QF QD;

  BENDS24_SETUP HZ1 HZ2 0 0 QF QD 0;
  INJECT_LIKE_MADX;
  SR 0 0 0 0 0 0 0 0 1; SSR 0 0 1;
  
  OPENF 924 WHERE&'TRPRAY.dat' 'REPLACE';
  OPENF 925 WHERE&'TRPSPI.dat' 'REPLACE';
    { TREL MAPARR SPNRARR 1 471 1 924 925 0; }
    TRPRAY 924; TRPSPI 925;
    TR 1000 1 -1 -3 1.2 1.2 0 0 -12;
  CLOSEF 924; CLOSEF 925;
  
  WRITE 6 'SUCCESS!';

ENDPROCEDURE; {RUN}

RUN; END;

